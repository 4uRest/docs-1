## menu.createDish: Создание тех. карты

> Пример запроса на создание техкартыы:

```php
<?php
$url = 'https://joinposter.com/api/menu.createDish'
 . '?token=687409:4164553abf6a031302898da7800b59fb';

$dish = [
    'product_name' => 'Кальян с сюрпризом',
    'menu_category_id' => 151,
    'different_spots_prices' => 1,
    'workshop' => 4,
    'weight_flag' => 0,
    'product_color' => 'red',
    'nodiscount' => 1,
    'fiscal_code' => 1234567890,
    'price' => [
        1 => 55,
        2 => 57,
    ],
    'visible' => [
        1 => 1,
        2 => 0,
    ],
    "ingredient" => [[
        "id" => 813,
        "type" => 1,
        "unit" => "kg",
        "weight" => 0,
        "stew" => 0,
        "bake" => 0,
        "brutto" => 10,
        "lock" => 1,
        "netto" => 10,
    ]],
    'modificationgroup' => [
        [
            'type'          => 1,
            'minNum'        => 1,
            'maxNum'        => 1,
            'name'          => 'Чаша',
            "modifications" => [
                [
                    "ingredientId" => 820,
                    "type" => 1,
                    "name" => "Классическая чаша",
                    "brutto" => 1,
                    "price" => 500,
                ],
                [
                    "ingredientId" => 816,
                    "name" => "Апельсиновая чаша",
                    "type" => 1,
                    "brutto" => 1,
                    "price" => 400,
                ],
            ]
        ]
    ]
];

$data = sendRequest($url, 'post', $dish);
```

> Пример ответа:

```json
{
  "response":61
}
```

Метод создаёт тех. карту

!>     Нельзя создавать тех. карту с модификациями если она:    
  - весовая, wait_flag — 1
  - учавствует в акциях или находится в категории которая учавствует в акции
  - является элементом тех. карты с модификацией
  — учавствует в списаниях или производствах

### HTTP запрос

`POST https://joinposter.com/api/menu.createDish`

### POST-параметры запроса menu.createDish

Параметр | Описание
-------- | --------
product_name | Название тех. карты
barcode | Штриховой код тех. карты. По умолчанию не передаётся.
menu_category_id | Id категории тех. карты. По умолчанию принимает 0.
workshop_id | Id цеха. По умолчанию принимает 1.
product_color | Цвет карточки тех. карты: white, red, orange, yellow, green, blue, navy-blue, purple, black, mint-blue, lime-green, pink. По умолчанию принимает white.
weight_flag | Признак, что тех. карта весовая: 0 — не весовая, 1 — весовая. По умолчанию принимает 0. Если в тех. карте присутсвует штучный ингредиент, то она не может быть весовой. Если тех. карта с модификациями не может быть весовой.
nodiscount | Признак, что тех. карта  принимает участие в скидках: 0 — не принимает участие, 1 — принимает участие. По умолчанию принимает 1.
price | Массив цен по разным заведениям. Ключ массива — id заведения, значение — цена в копейках. Можно указать price не массивом, тогда цена раскидается на все заведения.
visible | Массив видимости тех. карты по разным заведениям. Ключ массива — id заведения. Можно указать visible не массивом, тогда видимость раскидается на все заведения.
ingredient | Массив ингредиентов и полуфабрикатов входящих в состав тех. карты
modificationgroup | Массив групп модификаторов
fiscal_code | Код УКТ ВЭД. Доступен только для аккаунтов из Украины, использующих фискализацию. Необязателен для заполнения

Внутри параметра `ingredient` лежит объект, внутри которого есть следующие параметры:

Параметр | Описание
-------- | --------
id | id полуфабриката или ингредиента 
type | Тип ингредиента: 1 — ингредиент, 2 — полуфабрикат
brutto | Брутто
netto | Нетто
bake | Признак, используется ли метод приготоволения «варка»: 0 — нет, 1 — да. По умолчанию передаётся 0.
cook | Признак, используется ли метод приготоволения «запекание»: 0 — нет, 1 — да. По умолчанию передаётся 0.
clear | Признак, используется ли метод приготоволения «очистка»: 0 — нет, 1 — да. По умолчанию передаётся 0.
fry | Признак, используется ли метод приготоволения «жарка»: 0 — нет, 1 — да. По умолчанию передаётся 0.
stew | Признак, используется ли метод приготоволения «тушение»: 0 — нет, 1 — да. По умолчанию передаётся 0.
lock | Тип зависимости нетто от брутто: 0 — ручная, 1 — автоматическая

Внутри параметра `modificationgroup` лежит объект, внутри которого есть следующие параметры:

Параметр | Описание
-------- | --------
type | Тип: 1 — из нескольких, 2 — несколько из нескольких
minNum | Минимальное количество модификаторов, которые нужно выбрать
maxNum | Максимальное количество модификаторов, которые нужно выбрать
name | Имя группы модификаторов
modifications | Массив модификаторов

Внутри параметра `modifications` лежит объект, внутри которого есть следующие параметры:

Параметр | Описание
-------- | --------
ingredientId | Id ингредиента, тех. карты или полуфабриката
type | Тип: 10 - ингредиент, 1 - товар, 2 - тех. карта, 3 - полуфабрикат, 8 - модификатор товара
name | Название модификатора
brutto | Вес, количество или литры модификатора
price | Дельта добавляемой цены к продукту при добавлении модификации. Цена в копейках и может быть нулевой.

### Параметры ответа menu.createDish

Параметр | Описание
-------- | --------
response | Id созданной тех. карты
