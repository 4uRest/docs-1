## menu.updateProduct: Изменение свойств товара

> Пример запроса на изменение данных товара без модификаций и с разными ценами в разных заведениях:

```php
<?php
$url = 'https://joinposter.com/api/menu.updateProduct'
 . '?token=687409:4164553abf6a031302898da7800b59fb';

$product = [
    'id'                     => 142,
    'product_name'           => 'Батон',
    'menu_category_id'       => 0,
    'workshop'               => 1,
    'weight_flag'            => 0,
    'color'                  => 'blue',
    'different_spots_prices' => 1,
    'modifications'          => 0,
    'barcode'                => '4820098749621',
    'price[1]'               => 3100,
    'price[2]'               => 3200,
    'visible'                => 1,
    'fiscal_code'            => 1234567890,
];

$data = sendRequest($url, 'post', $product);
```

> Пример ответа:

```json
{  
  "response": 142
}
```

> Пример запроса на изменение товара с модификациями:

```php
<?php
$url = 'https://joinposter.com/api/menu.updateProduct'
    . '?token=687409:4164553abf6a031302898da7800b59fb';

$product = [
    'id'                     => 57,
    'product_name'           => 'Имбирный чай',
    'menu_category_id'       => 0,
    'workshop'               => 1,
    'weight_flag'            => 0,
    'color'                  => 'green',
    'different_spots_prices' => 1,
    'modifications'          => 1,
    'modificator_id[0]'      => 1,
    'modificator_id[1]'      => 0,
    'modificator_id[2]'      => 2,
    'modificator_name[0]'    => '1л',
    'modificator_name[1]'    => '1.5л',
    'modificator_name[2]'    => '2л',
    'barcode[0]'             => '4820098749621',
    'barcode[1]'             => '4820098749623',
    'barcode[2]'             => '4820098749622',
    'fiscal_code[0]'         => 1234567890,
    'fiscal_code[1]'         => 1234567891,
    'fiscal_code[2]'         => 1234567892,
    'price[0][1]'            => 1500,
    'price[0][2]'            => 1600,
    'price[1][1]'            => 1700,
    'price[1][2]'            => 1800,
    'price[2][1]'            => 2000,
    'price[2][2]'            => 2100,
    'visible[0][1]'          => 1,
    'visible[0][2]'          => 1,
    'visible[1][1]'          => 1,
    'visible[1][2]'          => 1,
    'visible[2][1]'          => 0,
    'visible[2][2]'          => 0,
];

$data = sendRequest($url, 'post', $product);
```

> Пример ответа:

```json
{  
  "response":{  
    "product_id":61,
    "modifications_id":[  
      1,
      7,
      2
    ]
  }
}
```

Метод изменяет свойства товара

### HTTP запрос

`POST https://joinposter.com/api/menu.updateProduct`

### POST-параметры запроса menu.updateProduct

Параметр | Описание
-------- | --------
id | Id товара
product_name | Название товара
menu_category_id | Id категории меню. Если передать 0, то товар попадет на «Главный экран».
workshop | Id цеха. Обязательное поле для аккаунтов типа «кафе».
weight_flag | Признак, что товар штучный или весовой: 0 — штучный, 1 — весовой
color | Цвет карточки товара: white, red, orange, yellow, green, blue, navy-blue, purple, black, mint-blue, lime-green, pink. По умолчанию принимает white.
different_spots_prices | Признак, что у товара разные цены в разных заведениях: 0 — одинаковые цены, 1 — разные цены
modifications | Признак, что товар с модификаторами: 0 — без модификаторов, 1 — с модификаторами
modificator_id | Id модиикатора. Является обязательным, если в параметре modifications передана 1. Для существующих модифиторов необходимо передать их существующий modificator_id. Для новых модификаторов необходимо передать 0.
modificator_name | Название модиикатора. Является обязательным, если в параметре modifications передана 1. Все имена передаются с указанием индекса модификатора в квадратных скобках: modificator_name[0], modificator_name[1] и так далее.
barcode | Штрихововй код товара. Позволяет использовать сканер штрих-кодов во время продажи товаров. Для штучных товаров рекомендуется использовать 13-значный код, для весовых товаров рекомендуется использовать 7-значный код. Если товар без модификаторов, то параметр передается как barcode, если с модификаторами, то с указанием индекса модификатора в квадратных скобках: barcode[0], barcode[1] и так далее.
product_code | Артикул товара. Указывается только для аккаунтов типа «магазин». Если товар без модификаторов, то параметр передается как product_code, если с модификаторами, то с указанием индекса модификатора в квадратных скобках: product_code[0], product_code[1] и так далее.
price | Стоимость товара в копейках. Если товар без модификаторов, то параметр передаётся как price, если с модификаторами, то с указанием индекса модификаторов в квадратных скобках: price[0], price[1] и так далее. Кроме того, если включается свойство «разные цены в разных заведениях», то добавляется ещё один уровень массива, где будут указываться id заведений. То есть, price[1], price[2] и так далее — без модификаторов, и price[0][1], price[1][2] — с модификаторами (в качестве индекса сначала индекс модификации, а потом id заведения).
visible | Признак, что товар виден на терминале в этом заведении: 0 — не виден, 1 — виден. Используется только при включенном свойстве «разные цены в разных заведениях». Структуру передачи данных идентична параметру price. То есть, visible[1], visible[2] и так далее — без модификаторов (id заведения в качестве индекса), и visible[0][1], visible[1][2] — с модификациями (в качестве индекса сначала индекс модификации, а потом id заведения).
fiscal_code | Код УКТ ВЭД. Доступен только для аккаунтов из Украины, использующих фискализацию. Необязателен для заполнения

### Параметры ответа menu.updateProduct без модификаций

Параметр | Описание
-------- | --------
response | Id изменённого товара

### Параметры ответа menu.updateProduct с модификациями

Параметр | Описание
-------- | --------
product_id | Id изменённого товара
modifications_id | Массив из id модификаций изменённого товара
