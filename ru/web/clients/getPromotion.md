## clients.getPromotion: Свойства акции

> Пример запроса:

```php
<?php
$url = 'https://joinposter.com/api/clients.getPromotion'
 . '?token=687409:4164553abf6a031302898da7800b59fb'
 . '&promotion_id=13';

$data = sendRequest($url);
```

> Пример ответа:

```json
{
   "response":{  
      "promotion_id":"12",
      "name":"Скидка на кофе",
      "position":"3",
      "accrual_bonuses":"0",
      "params":{  
         "conditions":[
            {
               "type":"2",
               "id":"934",
               "pcs":225445,
               "g":0,
               "sum":0
            }
         ],
         "conditions_rule":"or",
         "conditions_exactly":0,
         "accumulation_type":"1",
         "accumulation_checks_count":0,
         "week_days":[  
            "1",
            "1",
            "1",
            "1",
            "1",
            "1",
            "1"
         ],
         "periods":[  
            {  
               "start":"00:00",
               "end":"23:59"
            }
         ],
         "clients_type":"4",
         "clients_groups":[  
            "18",
            "2"
         ],
         "result_type":"1",
         "bonus_products":[  
            {  
               "type":"2",
               "id":"934"
            }
         ],
         "bonus_products_pcs":"3",
         "bonus_products_g":0,
         "bonus_products_condition_type":"1",
         "bonus_products_condition_value":"80",
         "bonus_products_accumulation":"2",
         "discount_value":0,
         "discount_prices":[  

         ]
      },
      "date_start":"2018-05-01 00:00:00",
      "date_end":"0000-00-00 00:00:00",
      "auto_apply":"0"
   }
}
```
 
Метод возвращает свойства акции

### HTTP GET запрос

`GET https://joinposter.com/api/clients.getPromotion`

### GET-параметры запроса clients.getPromotion

Параметр | Описание
-------- | --------
promotion_id | Id акции


### Параметры ответа clients.getPromotion

Параметр | Описание
-------- | --------
response | Массив объектов

Внутри параметра `response` лежит объект, который содержит следующие свойства

Параметр | Описание
-------- | --------
promotion_id | Id акции
name | Название акции
position | Позиция в списке
accrual_bonuses | Начисление бонусов на товары из условий акции: 0 — не начислять, 1 — начислять
date_start | Дата начала акции в формате `YYYY:MM:dd HH:mm:ss`
date_end | Дата оконцания акции в формате `YYYY:MM:dd HH:mm:ss`
auto_apply | Автоприменение акции: 0 — выключено, 1 — включено
params | Параметры акции

Внутри параметра `params` лежит массив, в каждом элементе которого есть следующие параметры:

Параметр | Описание
-------- | --------
conditions | Условия заказа товаров
conditions_rule | Условие заказа товаров: `or` — любой товар был приобретен, `and` — все товары из списка были приобретены
conditions_exactly | Количество товара необходимое для покупки: 0 — не менее, 1 — ровно
accumulation_type | Условия накопления: 1 — без накопления, один раз в рамках одного чека, 2 — без накопления, много раз в рамках одного чека, 3 — с накоплением количества или сумм в нескольких чеках
accumulation_checks_count | Количество чеков в которых сработала акция
week_days | Массив из дней недели в которые работает акция, 0 — акция не работает, 1 — акция работает. Позиция элемента в массиве соответсвует дню недели, например, понедельник — 1й элемент, пятница — 5й элемент. 
periods | Время работы акции в формате `hh:mm`
clients_type | Участники акции: 1 — все посетители, 2 — только не зарегистрированные посетители, 3 — только зарегистрированные клиенты, 4 — клиенты отдельных групп
clients_groups | Список из id групп клиентов на которых действует акция
result_type | Результат акции: 1 — бонусные товары, 2 — фиксированная сумма скидки, 3 — процент скидки на товар, 4 — фиксированная скидка на товары из акции 
bonus_products  | Бонусные товары которые будут выданы в результате акции
bonus_products_pcs | Количество бонусных товаров
bonus_products_g | Сколь грамм бонусного товара выдавать, если он весовой
bonus_products_condition_type | Условие получения бонусного товара: 1 — процент скидки на бонусные товары (от 0 до 100), 2 — фиксированная сумма скидки на бонусные товары, 3 — фиксированная стоимость бонусного товара
bonus_products_condition_value | Процент скидки если `bonus_products_condition_type` = 1, сумма скидки в гривнах\рублях если `bonus_products_condition_type` = 2 
discount_value | Фиксированная сумма скидки, передается только при `bonus_products_condition_type` = 2
discount_prices | Массив из стоимостей товаров если `result_type` = 4 

Внутри параметра `conditions` лежит массив, в каждом элементе которого есть следующие параметры:

Параметр | Описание
-------- | --------
type | Что нужно заказать: 1 — товар, 2 — товар из категории
id | Id товара или категории в зависимости от `type` при заказе которого сработает акция 
pcs | Количество товара, после покупки которого можно применить акцию
g | Сколь грамм товара необходимо купить, если он весовой
sum | Минимальная сумма в копейках на которую нужно заказать товар  

Внутри параметра `periods` лежит массив, в каждом элементе которого есть следующие параметры:

Параметр | Описание
-------- | --------
start | Время начала акции в формате `YYYY:MM:dd HH:mm:ss`
end | Время окончания акции `YYYY:MM:dd HH:mm:ss`

Внутри параметра `discount_prices` лежит массив, в каждом элементе которого есть следующие параметры:

Параметр | Описание
-------- | --------
type | Тип результирующего товара: 1 — товар, 2 — товар из категории
id | Id результирующего товара или категории в зависимости от `type` 
price | Сумма в копейках с которой товар добавится в заказ 
