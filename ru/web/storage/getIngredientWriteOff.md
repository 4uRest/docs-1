## storage.getIngredientWriteOff: Получить не ручные списания 

> Пример запроса:

```php
<?php
$url = 'https://joinposter.com/api/storage.getIngredientWriteOff'
 . '?token=687409:4164553abf6a031302898da7800b59fb';

$data = sendRequest($url);

```

> Пример ответа:

```json
{
  "response":[
    {
      "write_off_id":"1518217",
      "transaction_id":"388684",
      "tr_product_id":"2125179",
      "storage_id":"1",
      "to_storage":"0",
      "ingredient_id":"936",
      "product_id":"934",
      "modificator_id":"0",
      "prepack_id":"0",
      "weight":"1.00000",
      "unit":"p",
      "cost":"0",
      "cost_netto":"0",
      "user_id":"1",
      "type":"1",
      "time":"1510668937861",
      "date":"2017-11-14 17:15:38",
      "reason":"",
      "product_name":"Fiscal Test",
      "name":"Demo"
    }
  ]
}
```

Метод возвращает не ручные списания

### HTTP запрос

`GET https://joinposter.com/api/storage.getIngredientWriteOff`

### GET-параметры запроса storage.getIngredientWriteOff

Параметр | Описание
-------- | --------
dateFrom | Опциональный параметр, дата начала выборки в формате `Ymd`, включительно. По умолчанию дата месяц назад.
dateTo | Опциональный параметр, дата конца выборки в формате `Ymd`, включительно. По умолчанию дата текущего дня.
storage_id | Опциональный параметр, id склада по которому возвращать списания. По умолчанию по всем складам.
ingredient_id | Опциональный параметр, id ингредиента по которому возвращать списания. По умолчанию по всем ингредиентам.

### Параметры ответа storage.getIngredientWriteOff

Параметр | Описание
-------- | --------
response | Объект ответа

Внутри параметра `response` лежит массив, в каждом элементе которого есть следующие параметры:

Параметр | Описание
-------- | --------
write_off_id | id списания
transaction_id | Номер транзакции
storage_id | id склада откуда произошло списание 
to_storage | id склада для перемещения 
ingredient_id | id ингредиента
product_id | id товара
modificator_id | id модификатора, 0 если без модификатора 
prepack_id | id полуфабриката
weight | Количество ингредиента
unit | Единица измерения ингредиента: kg — килограммы, p — штуки, l — литры
cost | Общая сумма списания по этому ингредиенту в копейках. Если вам нужно узнать себестоимость, разделите `cost` на `weight`.
cost_netto | Общая сумма списания по этому ингредиенту без НДС в копейках. Если вам нужно узнать себестоимость, разделите `cost` на `weight`.  Возвращается если включена настройка «Считать себестоимость и прибыль нетто»
user_id | id официанта
type | Тип действия: 4 — перемещение, 1 — списание, 2 — ручное списание  
time | Дата списания в формате unixtimestamp
date | Дата списания
product_name | Название товара
name | Имя официанта 
