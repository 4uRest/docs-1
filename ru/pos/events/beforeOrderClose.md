## beforeOrderClose: перед закрытием заказа

> Пример перехыватывания закрытия заказа:

```javascript
Poster.on('beforeOrderClose', (data, next) => {
	alert("К оплате " + data.order.total);

	next();
});
```


> Пример как отобразить кнопку на экране заказа:

```javascript
Poster.on('beforeOrderClose', (data, next) => {
	next({ payButton: 'My Pay Button' });
});
```



Событие срабатывает перед закрытием заказа, когда кассир нажимает на кнопку «Оплатить». 
В качестве аргумента приходит объект data со свойством order — данными заказа, который будет закрываться.

Событие ожидает вызова callback-функции `next`, после которого поток выполнения вернется к экрану оплаты.

### Аргументы

Аргумент | Описание
-------- | --------
data.order | Данные заказа, тип данных [Order](/docs/v3/pos/types/order) 
next | Callback-функция после вызова которой продолжается поток выполнения и возвращается к экрану заказа


Функция `next` может принимать объект с дополнительными параметрами для заказа:

Параметр | Значение
-------- | --------
payButton | Строка с текстом кнопки на экране заказа. По умолчанию не передается. По нажатию кнопки будет вызвано событие [applicationIconClicked](/docs/v3/pos/events/applicationIconClicked).
