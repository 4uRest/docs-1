# POS Events: События

По мере работы официанта с кассовой программой Poster, платформа оповещает приложения о событиях, которые происходят в системе. 
Примеры событий:

* официант зашел в систему под своим пин-кодом
* официант собирается закрыть чек
* чек закрыт

```javascript
Poster.on('beforeOrderClose', (data, next) => {
	alert("Я срабатываю перед закрытием заказа");
	next();
});
```

Приложение на платформе может подписаться на события с помощью метода `Poster.on` и передать функцию-обработчик, которая будет вызываться при срабатывании события. 
Например →

Платформа передаст в функцию-обработчик аргумент: `data`. 
В `data` содержится информация, которая связана с этим конкретным событием.

Для событий, которые прерывают стандартный поток выполнения (обычно события, названия которых начинаются на «before») дополнительно передается Аргумент `next`. 
Это функция, которую приложение должно вызвать, когда закончит обработку события. После вызова `next`, выполнение потока вернется в Poster.

Если на одно событие подписаны несколько приложений, их обработчики будут вызываться по очереди, после вызова `next` в обработчике одного приложения, вызовется обработчик второго приложения.

Платформа ожидает, что для событий, которые передают `next` в обработчик, приложение в течение 5 секунд после срабатывания обработчика вызовет `next()` или отобразит интерфейс, с которым пользователь должен взаимодействовать (например с помощью метода `Poster.interface.popup`). 
В случае, если приложение не закончит обработку события в течение 5 секунд, платформа перезагрузит приложение и продолжит выполнение потока.
